{% liquid
   assign labelledBy = ''
   if section.settings.heading != blank
      assign labelledBy = sectionid | append: '.heading'
   endif
%}

<div class="relative py-12 bg-white" aria-labelledby="{{ labelledBy }}">
  <div class="lg:mx-auto lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-2 lg:grid-flow-col-dense lg:gap-24">
    <div class="lg:mt-0 lg:col-start-1">
      <div class="lg:px-0 lg:m-0 lg:relative lg:h-full">
        <img class="w-full shadow-xl lg:absolute lg:right-0 lg:h-full lg:w-auto lg:max-w-none" src="https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=662&amp;q=80" alt="About our products">
      </div>
    </div>
    <div class="py-10 px-5 max-w-xl mx-auto sm:px-6 lg:py-48 lg:max-w-none lg:mx-0 lg:px-0 lg:col-start-2">
      <div class="space-y-8 sm:px-10 md:px-0">
        {% if section.settings.heading != blank %}
        <h2 id="{{ labelledBy }}" class="text-5xl" {{ block.shopify_attributes }}>
          {{ section.settings.heading | escape }}
        </h2>
        {% endif %}
        {% if section.settings.description != blank %}
        <div class="text-lg italic" {{ block.shopify_attributes }}>
          {{ section.settings.description }}
        </div>
        {% endif %}
        
        {%- for block in section.blocks -%}
          {% case block.type %}
        	{%- when 'heading' -%}
        	  {% if block.settings.heading != blank %}
        	  <h2 id="{{ labelledBy }}" class="text-5xl" {{ block.shopify_attributes }}>
          		{{ block.settings.heading | escape }}
        	  </h2>
        	  {% endif %}
        	{%- when 'description' -%}
        	  {% if block.settings.description != blank %}
        	  <div class="text-lg italic" {{ block.shopify_attributes }}>
          	  	{{ block.settings.description }}
        	  </div>
        	  {% endif %}	
        	{%- when 'content' -%}
        	  {%- if block.settings.heading != blank -%}
        	  <p class="text-lg" {{ block.shopify_attributes }}>
          		We pride ourselves on bringing our award-winning dishes to our customers. All of your favorite seasonal meals can be ordered online with pick up or delivery available. Order as much or as little as you like with great discounts for big orders. Please contact us if you have any questions.
        	  </p>
        	  {% endif %}
       		{%- when 'button' -%}
        	  {%- if block.settings.heading != blank -%}
                <a{% if block.settings.button_link != blank %} href="{{ block.settings.button_link }}"{% endif %} class="inline-flex bg-indigo-600 hover:bg-indigo-700 px-4 py-2 ml-3 text-white {% if block.settings.button_style_secondary %} button--secondary{% else %} button--primary{% endif %}"{% if block.settings.button_link == blank %} aria-disabled="true"{% endif %} {{ block.shopify_attributes }}>
                  {{ block.settings.button_label | escape }}
                </a>
              {%- endif -%}
          {% endcase %}
        {% endfor %}
      </div>
    </div>
  </div>
</div>

{% schema %}
{
	"name": "Image with Text",
	"tag": "section",
	"class": "image-with-text",
	"settings": [
	  {
		"type": "image_picker",
		"id": "image",
		"label": "Image",
		"info": "Suggested image sizes"
	  },
	  {
		"type": "select",
		"id": "layout",
        "label": "Layout",
		"default": "image-first",
        "options": [
		  {
			"value": "image-first",
			"label": "Image first"
		  },
		  {
			"value": "image-after-title",
			"label": "Image after title"
		  },
		  {
			"value": "image-left",
			"label": "Image left"
		  },
		  {
			"value": "image-right",
			"label": "Image right"
		  }
		]
	  }
	],
	"blocks": [
	  {
		"type": "heading",
		"name": "heading",
		"limit": 1,
		"settings": [
		  {
			"type": "text",
			"id": "heading",
			"label": "Heading",
			"default": "Image with text"
		  }
		]
	  },
	  {
		"type": "description",
		"name": "description",
		"limit": 1,
		"settings": [
		  {
			"type": "richtext",
			"id": "text",
			"label": "Text",
			"default": "<p>Pair text with an image to focus on your chosen product, collection, or blog post. Add details on availability, style, or even provide a review.</p>"
		  }
		]
	  },
	  {
		"type": "content",
		"name": "Content",
		"settings": [
		  {
			"type": "text",
			"id": "heading",
			"label": "Note",
			"default": "Talk about your brand"
		  },
		  {
			"type": "richtext",
			"id": "text",
			"label": "Text",
			"default": "<p>Share information about your brand with your customers. Describe a product, make announcements, or welcome customers to your store.</p>"
		  }
		]
	  },
	  {
		"type": "button",
		"name": "Button",
		"limit": 3,
		"settings": [
		  {
			"type": "text",
			"id": "heading",
			"label": "Button label",
			"default": "Button label"
		  },
		  {
			"type": "url",
			"id": "link",
			"label": "Button link"
		  }
		]
	  }
	],
	"presets": [
	  {
		"name": "Image with text 2",
		"blocks": [
		  {
			"type": "heading"
		  },
		  {
			"type": "description"
		  },
		  {
			"type": "content"
		  },
		  {
			"type": "button"
		  }
		]
	}]
}
{% endschema %}
